jQuery(document).ready(function(t){function a(){var t=window.navigator.userAgent,a=t.indexOf("MSIE ");return!!(a>0||navigator.userAgent.match(/Trident.*rv\:11\./))}t(".cq-twoface-box-container").each(function(o){function e(){"bottomtop"!=w||"200px"==b||a()||(i.find(q).css({"-webkit-transform":"translateZ("+.5*b+"px)","-moz-transform":"translateZ("+.5*b+"px)","-ms-transform":"translateZ("+.5*b+"px)",transform:"translateZ("+.5*b+"px)"}),i.find(Z).css({"-webkit-transform":"rotateX(-90deg) translateZ("+.5*b+"px)","-moz-transform":"rotateX(-90deg) translateZ("+.5*b+"px)","-ms-transform":"rotateX(-90deg) translateZ("+.5*b+"px)",transform:"rotateX(-90deg) translateZ("+.5*b+"px)"})),"bottomtop"==w||a()||(i.find(q).css({"-webkit-transform":"translateZ("+.5*i.find(".cq-twoface-box").width()+"px)","-moz-transform":"translateZ("+.5*i.find(".cq-twoface-box").width()+"px)","-ms-transform":"translateZ("+.5*i.find(".cq-twoface-box").width()+"px)",transform:"translateZ("+.5*i.find(".cq-twoface-box").width()+"px)"}),i.find(Z).css({"-webkit-transform":"rotateY(-90deg) translateZ("+(.5*i.find(".cq-twoface-box").width()-1)+"px)","-moz-transform":"rotateY(-90deg) translateZ("+(.5*i.find(".cq-twoface-box").width()-1)+"px)","-ms-transform":"rotateY(-90deg) translateZ("+(.5*i.find(".cq-twoface-box").width()-1)+"px)",transform:"rotateY(-90deg) translateZ("+(.5*i.find(".cq-twoface-box").width()-1)+"px)"}))}function s(){clearTimeout(z),z=setTimeout(function(){_?i.trigger("mouseleave"):i.trigger("mouseover")},1e3*v)}var n,i=t(this),r=t(this).find(".cq-twoface-box"),c=t(this).data("frontbg"),d=(t(this).data("frontavatar"),t(this).data("frontfullimage")),f=(t(this).data("backavatar"),t(this).data("backfullimage")),h=t(this).data("backbg"),m=t(this).data("iconcolor"),l=t(this).data("contentcolor")||t(this).data("fontcolor"),w=t(this).data("cubedirection"),b=t(this).data("cubeheight")||"200px",u=parseInt(t(this).data("avatarsize")||"80",10),g=t(this).data("contentsize"),p=t(this).data("titlesize"),x=t(this).data("contentwidth"),v=parseInt(t(this).data("rotatecube")),k=t(this).data("cubewidth"),C=t(this).data("cubemargin");i.css({margin:C});var q="."+t(this).data("face1"),Z="."+t(this).data("face2");t(this).find(q).css("background-color",c),t(this).find(Z).css("background-color",h),r.css({width:k,height:b}),""!=g&&i.find(".cq-face-item").css("font-size",g),""!=p&&i.find(".cq-face-title").css("font-size",p),i.find(".cq-face-avatar").css({color:m,width:u,height:u,"font-size":u,"line-height":u+"px"}),""!=d&&i.find(".cq-face-item").each(function(a){0==a&&t(this).css({background:"url("+d+") no-repeat center center","background-size":"cover"})}),""!=f&&i.find(".cq-face-item").each(function(a){1==a&&t(this).css({background:"url("+f+") no-repeat center center","background-size":"cover"})}),a()&&(i.find(Z).css({"-ms-transform":"rotateY(0deg) translateZ(0)",transform:"rotateY(0deg) translateZ(0)"}),"bottomtop"==w?r.removeClass("showback_ie").addClass("showfront_ie"):r.removeClass("showright_ie").addClass("showleft_ie")),t(window).on("resize",function(t){"bottomtop"!=w&&e()}),e();var z=0;v>0&&s(),t(this).find(".cq-face-content").css({color:l,width:x}),t(this).find(".cq-face-content .cq-face-title").css("color",l);var _=!1;t(this).on("mouseover",function(t){_=!0,clearTimeout(z),a()?"bottomtop"==w?r.removeClass("showfront_ie").addClass("showback_ie"):r.removeClass("showleft_ie").addClass("showright_ie"):"bottomtop"==w?r.removeClass("showfront").addClass("showback"):r.removeClass("showleft").addClass("showright"),r.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){v>0&&s()})}).on("mouseleave",function(t){clearTimeout(n),clearTimeout(z),_=!1,n=setTimeout(function(){a()?"bottomtop"==w?r.removeClass("showback_ie").addClass("showfront_ie"):r.removeClass("showright_ie").addClass("showleft_ie"):"bottomtop"==w?r.removeClass("showback").addClass("showfront"):r.removeClass("showright").addClass("showleft"),r.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){v>0&&s()})},300)})})});
